<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>
			{% block title %}Y EATS
			{% endblock %}
		</title>
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
		<link rel="stylesheet" href="{{ asset('css/navbar.css') }}"> 
		{% block link %}{% endblock %}
		</head>
		<body>
			{# {{dump(app.user)}} #}
			{% if app.user != null and app.user.roles[0] == 'ADMIN' %}
				<!-- Page Wrapper -->
				<div
					id="wrapper">

					<!-- Sidebar -->
					<ul
						class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">

						<!-- Sidebar - Brand -->
						<a class="sidebar-brand d-flex align-items-center justify-content-center" href="index.html">
							<div class="sidebar-brand-icon rotate-n-15">
								<i class="fas fa-laugh-wink"></i>
							</div>
							<div class="sidebar-brand-text mx-3">Panel Admin</div>
						</a>

						<!-- Divider -->
						<hr
						class="sidebar-divider my-0">

						<!-- Nav Item - Dashboard -->
						<li class="nav-item active">
							<a class="nav-link" href="{{ path('adminDashboard')}}">
								<i class="fas fa-fw fa-tachometer-alt"></i>
								<span>Dashboard</span>
							</a>
						</li>

						<!-- Divider -->
						<hr
						class="sidebar-divider">

						<!-- Heading -->
						<div class="sidebar-heading">
							Interface
						</div>

						<!-- Nav Item - Charts -->
						<li class="nav-item">
							<a class="nav-link" href="{{ path('adminRestorer')}}">
								<i class="fas fa-fw fa-chart-area"></i>
								<span>Restaurants</span>
							</a>
						</li>

						<!-- Nav Item - Charts -->
						<li class="nav-item">
							<a class="nav-link" href="{{ path('adminMembers')}}">
								<i class="fas fa-fw fa-chart-area"></i>
								<span>Membres</span>
							</a>
						</li>

						<!-- Divider -->
						<hr
						class="sidebar-divider">

						<!-- Heading -->
						<div class="sidebar-heading">
							Actions
						</div>

						<!-- Nav Item - Charts -->
						<li class="nav-item">
							<a class="nav-link" href="{{ path('logout')}}">
								<i class="fas fa-fw fa-chart-area"></i>
								<span>Déconnexion</span>
							</a>
						</li>

						<!-- Divider -->
						<hr class="sidebar-divider d-none d-md-block">

					</ul>
					<!-- End of Sidebar -->

					<!-- Content Wrapper -->
					<div
						id="content-wrapper" class="d-flex flex-column">

						<!-- Main Content -->
						<div
							id="content">

							<!-- Topbar -->
							<nav
								class="navbar navbar-expand navbar-light bg topbar mb-4 static-top shadow">

								<!-- Topbar Navbar -->
								<ul class="navbar-nav ml-auto">


									<div class="topbar-divider d-none d-sm-block"></div>

									<!-- Nav Item - User Information -->
									<li class="nav-item dropdown no-arrow">
										<a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
											<span class="mr-2 d-none d-lg-inline text-gray-600 small">{{app.user.username}}</span>
										</a>
									</li>

								</ul>

							</nav>
							<!-- End of Topbar -->
						{# </div>
					</div>	
				</div>		 #}
						{% elseif app.user != null and app.user.roles[0] == 'RESTORER' %}
							<!-- Page Wrapper -->
				<div
					id="wrapper">

					<!-- Sidebar -->
					<ul
						class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">

						<!-- Sidebar - Brand -->
						<a class="sidebar-brand d-flex align-items-center justify-content-center" href="index.html">
							<div class="sidebar-brand-icon rotate-n-15">
								<i class="fas fa-laugh-wink"></i>
							</div>
							<div class="sidebar-brand-text mx-3">Panel Restaurent</div>
						</a>

						<!-- Divider -->
						<hr
						class="sidebar-divider my-0">

						<!-- Nav Item - Dashboard -->
						<li class="nav-item active">
							<a class="nav-link" href="{{ path('restorerDashboard')}}">
								<i class="fas fa-fw fa-tachometer-alt"></i>
								<span>Dashboard</span>
							</a>
						</li>

						<!-- Divider -->
						<hr
						class="sidebar-divider">

						<!-- Heading -->
						<div class="sidebar-heading">
							Interface
						</div>

						<!-- Nav Item - Charts -->
						<li class="nav-item">
							<a class="nav-link" href="{{ path('restorerDishs')}}">
								<i class="fas fa-fw fa-chart-area"></i>
								<span>Plats</span>
							</a>
						</li>

						<!-- Nav Item - Charts -->
						<li class="nav-item">
							<a class="nav-link" href="{{ path('profilRestorer')}}">
								<i class="fas fa-fw fa-chart-area"></i>
								<span>Profil</span>
							</a>
						</li>

						<!-- Divider -->
						<hr
						class="sidebar-divider">

						<!-- Heading -->
						<div class="sidebar-heading">
							Actions
						</div>

						<!-- Nav Item - Charts -->
						<li class="nav-item">
							<a class="nav-link" href="{{ path('logout')}}">
								<i class="fas fa-fw fa-chart-area"></i>
								<span>Déconnexion</span>
							</a>
						</li>

						<!-- Divider -->
						<hr class="sidebar-divider d-none d-md-block">

					</ul>
					<!-- End of Sidebar -->

					<!-- Content Wrapper -->
					<div
						id="content-wrapper" class="d-flex flex-column">

						<!-- Main Content -->
						<div
							id="content">

							<!-- Topbar -->
							<nav
								class="navbar navbar-expand navbar-light bg topbar mb-4 static-top shadow">

								<!-- Topbar Navbar -->
								<ul class="navbar-nav ml-auto">


									<div class="topbar-divider d-none d-sm-block"></div>

									<!-- Nav Item - User Information -->
									<li class="nav-item dropdown no-arrow">
										<a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
											<span class="mr-2 d-none d-lg-inline text-gray-600 small">{{app.user.username}}</span>
										</a>
									</li>

								</ul>

							</nav>
						{% else %}

							<div class="nav--responsive">
								<div class="header__main">
									<div class="header__logo">
										<a href="{{ path('home')}}"><img src="/img/logo.png" alt="logo"/></a>
									</div>

									<div class="header__nav">
										<ul class="nav__list">
											{% if app.user == null %}
												<li class="nav__item">
													<a href="{{ path('registerMember')}}">Inscription</a>
												</li>
												<li class="nav__item">
													<a href="{{ path('registerRestorer')}}">Inscription restaurent</a>
												</li>
												<li class="nav__item">
													<a href="{{ path('login')}}">Connexion</a>
												</li>
												<li class="nav__item">
													<a href="{{ path('loginRestaurent')}}">Connexion restaurent</a>
												</li>
											{% else %}
												<li class="nav__item">
													<a href="{{ path('profil')}}">Profil</a>
												</li>
												<li class="nav__item">
													<a href="{{ path('basket')}}">Panier</a>
												</li>
												<li class="nav__item">
													<a href="{{ path('historicCommand')}}">Mes commandes</a>
												</li>
												<li class="nav__item">{{member.sold}}€</li>
											{% endif %}
										</ul>
									</div>

								</div>
							</div>

							<div class="overlay"></div>


							<header class="header__main">
								<div class="header__logo">
									<a href="{{ path('home')}}"><img src="/img/logo.png" alt="logo"/></a>
								</div>

								<nav class="header__nav">
									<ul class="nav__list">
										{% if app.user == null %}
											<li class="nav__item">
												<a href="{{ path('registerMember')}}">Inscription</a>
											</li>
											<li class="nav__item">
												<a href="{{ path('registerRestorer')}}">Inscription restaurent</a>
											</li>
											<li class="nav__item">
												<a href="{{ path('login')}}">Connexion</a>
											</li>
											<li class="nav__item">
												<a href="{{ path('loginRestaurent')}}">Connexion restaurent</a>
											</li>
										{% else %}
											<li class="nav__item">
												<a href="{{ path('profil')}}">Profil</a>
											</li>
											<li class="nav__item">
												<a href="{{ path('basket')}}">Panier</a>
											</li>
											<li class="nav__item">
												<a href="{{ path('historicCommand')}}">Mes commandes</a>
											</li>
											<li class="nav__item">{{member.sold}}€</li>
											<li class="nav__item">
												<a href="{{ path('logout')}}">Deconnexion</a>
											</li>
										{% endif %}
									</ul>
								</nav>
								<div class="header-nav__wrapper">
									<div class="header-nav-burger"></div>
								</div>
							</header>
						{% endif %}


						{% for message in app.flashes('errors') %}
							<div class="alert alert-danger">{{ message}}</div>
						{% endfor %}

						{% for message in app.flashes('success') %}
							<div class="alert alert-success">{{ message }}</div>
						{% endfor %}
						{% block body %}{% endblock %}
						{% block javascripts %}{% endblock %}
						{% if (app.user != null and app.user.roles[0] == 'MEMBER') or app.user == null %}
						<footer class="footer_main">
							<p>
								copyright Y
								<span>Eats</span>
								&copy; 2020
							</p>
						</footer>
						{% endif %}
						<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

						<script src="{{ asset('js/navbar.js') }}"></script>
					</body>
				</html>
